{
    "name": "NVQLink Development",
    "build": {
        "dockerfile": "../docker/Dockerfile",
        "args": { 
            "destination": "workspaces/host",
            "network": "host"
        }
    },
    "capAdd": ["SYS_PTRACE", "NET_ADMIN", "SYS_MODULE", "IPC_LOCK"],
	"securityOpt": [ "seccomp=unconfined" ],
    "mounts": [
        "source=/sys/bus/pci/devices,target=/sys/bus/pci/devices,type=bind",
        "source=/sys/kernel/mm/hugepages,target=/sys/kernel/mm/hugepages,type=bind",
        "source=/dev,target=/dev,type=bind",
        "source=/sys/devices,target=/sys/devices,type=bind",
        "source=/opt/mellanox/gdrcopy,target=/opt/mellanox/gdrcopy,type=bind"
    ],
    "runArgs": [
        "--privileged",
        "--gpus=all",
        "--network=host",
        "--device=/dev/gdrdrv"
    ]
}