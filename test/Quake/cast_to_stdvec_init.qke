// ========================================================================== //
// Copyright (c) 2025 NVIDIA Corporation & Affiliates.                        //
// All rights reserved.                                                       //
//                                                                            //
// This source code and the accompanying materials are made available under   //
// the terms of the Apache License 2.0 which accompanies this distribution.   //
// ========================================================================== //

// RUN: cudaq-opt --canonicalize %s

// Test here is that this does not crash.

func.func @cast_to_stdvec() {
    %c0_i64 = arith.constant 0 : i64
    %c2_i64 = arith.constant 2 : i64
    %ptr = cc.cast %c0_i64 : (i64) -> !cc.ptr<i64>
    %vector = cc.stdvec_init %ptr, %c0_i64 : (!cc.ptr<i64>, i64) -> !cc.stdvec<i64>
    %size = cc.stdvec_size %vector : (!cc.stdvec<i64>) -> i64
    return
}
